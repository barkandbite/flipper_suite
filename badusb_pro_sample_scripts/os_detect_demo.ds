REM BadUSB Pro - OS Detection Demo
REM Demonstrates automatic OS fingerprinting
REM For authorized security testing only

DEFAULT_DELAY 100

REM Detect the target operating system
OS_DETECT

REM Branch based on detected OS
IF $OS == WIN
    GUI r
    DELAY 500
    STRING notepad
    ENTER
    DELAY 1000
    STRINGLN Detected: Windows
END_IF

IF $OS == MAC
    GUI SPACE
    DELAY 500
    STRING textedit
    ENTER
    DELAY 1000
    STRINGLN Detected: macOS
END_IF

IF $OS == LINUX
    CTRL ALT t
    DELAY 1000
    STRING echo "Detected: Linux"
    ENTER
END_IF

IF $OS == UNKNOWN
    DELAY 1000
    REM Could not detect OS - using generic approach
    STRING echo Unknown OS
    ENTER
END_IF
